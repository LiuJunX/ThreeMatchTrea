---
name: cleanup
description: |
  代码清理和格式修复。

  触发词：清理代码、整理代码、清理 using、格式化、整理一下
  范围词：整个项目、全项目、全量 → 全量清理

  不触发：删除代码、重构代码、优化性能
allowed-tools: Read, Grep, Glob, Edit, Bash(git:*)
---

# 代码清理

**定位**：自动修复代码格式问题

## 清理内容

1. **未使用的 using 声明** - 删除未引用的命名空间导入
2. **重复的 using 声明** - 删除重复导入
3. **using 排序** - System 开头优先，然后按字母顺序
4. **空白行规范** - 文件末尾单个空行
5. **尾随空格** - 删除行尾空格

## 范围识别（三级）

- **当前对话（默认）**：无特殊限定词 → 只清理本次对话修改的文件
- **Git 修改**："git 修改"、"未提交的" → git status 所有文件
- **全量**："整个项目"、"全项目"、"全量" → 处理所有文件

## 排除目录

- `**/obj/**`
- `**/bin/**`
- `**/*.g.cs`（生成的文件）

## 执行流程

1. 确定范围（增量/全量）
2. 扫描目标 `.cs` 文件
3. 识别问题
4. 自动修复
5. 输出修改摘要

## 输出格式

```
## 清理摘要

**模式**：增量/全量
**扫描文件**：N 个
**修复文件**：M 个

### 修复详情
| 文件 | 修复项 |
|------|--------|
| XxxSystem.cs | 删除 2 个未使用 using |
| YyyService.cs | 删除尾随空格 |

### 未修复（需手动处理）
- ...
```
